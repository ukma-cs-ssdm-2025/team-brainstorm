<!doctype html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Library Frontend</title>
    <link rel="stylesheet" href="styles.css?v=3" />
</head>
<body>
<header class="topbar">
    <div class="container">
        <div class="brand">
            <div class="logo" aria-hidden="true">üìö</div>
            <h1>Library Frontend</h1>
        </div>
        <div class="controls">
            <div class="control">
                <label for="apiBase">API Base (Docker, proxied)</label>
                <input class="input" id="apiBase" value="/api" />
            </div>

            <div class="control">
                <label for="userEmail">User Email (favorites / headers)</label>
                <input class="input" id="userEmail" placeholder="you@example.com" />
            </div>

            <div class="control align-end auth-inline">
                <div id="authInfo" class="auth-info">
                    <span id="currentUser">–ù–µ –≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞</span>
                    <button class="btn btn-outline" id="logoutBtn" style="display:none">–í–∏–π—Ç–∏</button>
                </div>
                <div style="margin-left:8px">
                    <button class="btn btn-outline" id="ping">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏</button>
                    <span class="badge" id="healthStatus">–Ω–µ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ</span>
                </div>
            </div>
        </div>
    </div>
</header>

<main class="container">
    <!-- AUTH -->
    <section id="auth-section" class="card">
        <div class="card-header">
            <h2>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è</h2>
            <p class="muted">–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è / –í—Ö—ñ–¥ –¥–ª—è –∑–≤–∏—á–∞–π–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —ñ –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ä—è</p>
        </div>

        <div class="auth-grid">
            <div class="auth-block">
                <h3>–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è</h3>
                <input type="email" id="reg-email" class="input" placeholder="Email" />
                <input type="password" id="reg-password" class="input" placeholder="–ü–∞—Ä–æ–ª—å (–º—ñ–Ω. 8)" />
                <select id="reg-role" class="input">
                    <option value="user">–ó–≤–∏—á–∞–π–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á</option>
                    <option value="librarian">–ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∞—Ä</option>
                </select>
                <button class="btn btn-primary" id="register-btn">–ó–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏—Å—è</button>
            </div>

            <div class="auth-block">
                <h3>–£–≤—ñ–π—Ç–∏</h3>
                <input type="email" id="login-email" class="input" placeholder="Email" />
                <input type="password" id="login-password" class="input" placeholder="–ü–∞—Ä–æ–ª—å" />
                <button class="btn btn-primary" id="login-btn">–£–≤—ñ–π—Ç–∏</button>
                <p class="muted" style="margin-top:8px">–ü—ñ—Å–ª—è –≤—Ö–æ–¥—É email –ø—ñ–¥—Å—Ç–∞–≤–ª—è—î—Ç—å—Å—è —É –ø–æ–ª–µ <em>User Email</em>.</p>
            </div>
        </div>

        <p id="auth-message" class="message" aria-live="polite"></p>
    </section>

    <!-- MAIN GRID -->
    <section class="grid">
        <section class="card">
            <div class="card-header">
                <h2>–ö–Ω–∏–≥–∏</h2>
                <p class="muted">–§—ñ–ª—å—Ç—Ä—É–π –¥–æ—Å—Ç—É–ø–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏ –∞–±–æ –∑–∞ –∂–∞–Ω—Ä–∞–º–∏</p>
            </div>
            <div class="toolbar">
                <label class="checkbox">
                    <input type="checkbox" id="availableOnly" /> –õ–∏—à–µ –¥–æ—Å—Ç—É–ø–Ω—ñ
                </label>
                <div class="grow"></div>
                <label class="sr-only" for="genres">–ñ–∞–Ω—Ä–∏</label>
                <input class="input" id="genres" placeholder="fantasy, sci-fi" />
                <button class="btn btn-primary" id="loadBooks">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –∫–Ω–∏–≥–∏</button>
            </div>
            <ul class="list" id="books"></ul>
        </section>

        <section class="card">
            <div class="card-header">
                <h2>–†–µ–∑–µ—Ä–≤–∞—Ü—ñ—ó</h2>
                <p class="muted">–†–µ–∑–µ—Ä–≤–∞—Ü—ñ—ó, —Å—Ç–≤–æ—Ä–µ–Ω—ñ –ø—ñ–¥ —á–∞—Å –ø–æ—Ç–æ—á–Ω–æ—ó —Å–µ—Å—ñ—ó</p>
            </div>
            <ul class="list" id="reservations"></ul>
        </section>

        <section class="card">
            <div class="card-header">
                <h2>–í–∏–±—Ä–∞–Ω–µ</h2>
                <p class="muted">–ö–µ—Ä—É–π —Å–ø–∏—Å–∫–æ–º —É–ª—é–±–ª–µ–Ω–∏—Ö –∫–Ω–∏–∂–æ–∫</p>
            </div>
            <div class="toolbar">
                <button class="btn" id="loadFavs">–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–æ—î –≤–∏–±—Ä–∞–Ω–µ</button>
                <button class="btn btn-ghost" id="countFavs">–ö—ñ–ª—å–∫—ñ—Å—Ç—å</button>
                <button class="btn btn-danger" id="clearFavs">–û—á–∏—Å—Ç–∏—Ç–∏ –≤—Å–µ</button>
                <span class="badge" id="favCount"></span>
            </div>
            <ul class="list" id="favorites"></ul>
        </section>
    </section>
</main>

<div id="toast" class="toast" role="status" aria-live="polite"></div>
<script src="app.js?v=3"></script>
</body>
</html>
