<!doctype html>
<html lang="uk">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Library Frontend</title>
    <link rel="stylesheet" href="styles.css?v=3" />
</head>
<body>
<div class="page-shell">
        <header class="topbar">
        <div class="topbar__inner">
            <div class="brand">
                <div class="logo" aria-hidden="true">LF</div>
                <div>
                    <strong>Library Brainstorm</strong>
                    <p class="muted">Цифрова Бібліотека</p>
                </div>
            </div>
            <div class="auth-inline header-status">
  <a id="currentUser"
     href="auth.html"
     class="auth-link"
     aria-label="Перейти на сторінку входу">
    Увійти
  </a>
  <button class="btn btn-outline" id="logoutBtn" style="display:none">Вийти</button>
</div>

        </div>
    </header>

    <main class="main-content">
        <section class="hero card">
            <div class="hero__copy">
                <h1>Цифрова бібліотека</h1>
                <div class="hero__cta">
                </div>
            </div>
            <div class="hero__gallery">
            </div>
        </section>

        <section class="content-grid">
            <section class="card book-panel">
                <div class="card-header">
                    <div>
                        <p class="eyebrow">Ebooks</p>
                        <h2>Вибране з каталогу</h2>
                        <p class="muted">Фільтруйте за жанрами, обирайте доступні примірники.</p>
                    </div>

                    <div class="badge badge--info">New arrivals</div>
                </div>
                <div class="toolbar">
                    <label class="checkbox">
                        <input type="checkbox" id="availableOnly" />
                        Показати тільки доступні
                    </label>
                    <div class="filter-actions">

                        <label class="sr-only" for="genres">Жанри</label>
                        <input class="input" id="genres" placeholder="fantasy, sci-fi" />

                        <button class="btn btn-outline" id="loadBooks">Оновити добірку</button>
                    </div>
                </div>
                <ul class="book-grid list" id="books"></ul>
            </section>

            <div class="stacked-cards">
            <section class="card compact-card">
                    <div class="card-header">
                        <h2>Зарезервовані книги</h2>
                        <div id="reservedBooksList" class="reserved-list"></div>
                        <button id="clearReservations" class="btn btn-danger">Очистити всі</button>
                    </div>
                    <ul class="list compact-list" id="reservations"></ul>
                </section>

                <section class="card compact-card">
                    <div class="card-header">
                        <h2>Обране</h2>
                        <p class="muted">Книги, які ви зберегли для швидкого доступу.</p>
                    </div>
                    <div class="toolbar toolbar--favorites">
                        <button class="btn btn-ghost" id="loadFavs">Показати обране</button>
                        <button class="btn btn-danger" id="clearFavs">Очистити</button>
                        <span class="badge" id="favCount"></span>
                    </div>
                    <ul class="list compact-list" id="favorites"></ul>
                </section>
                <section class="card compact-card review-panel" id="reviewPanel">
                    <div class="card-header">
                        <h2>Відгуки та рейтинги</h2>
                        <p class="muted small" id="reviewTargetLabel">Оберіть книгу, щоб переглянути відгуки.</p>
                        <div class="review-summary hidden" id="reviewSummary">
                            <div class="review-summary__average">
                                <span class="review-summary__value" id="reviewAverageValue">0.0</span>
                                <span class="muted small">середній рейтинг</span>
                            </div>
                            <span class="badge" id="reviewCountBadge">0 відгуків</span>
                        </div>
                    </div>
                    <div class="card-body">
                        <div class="review-list" id="reviewList">
                            <p class="muted small">Оберіть книгу, щоб побачити відгуки.</p>
                        </div>
                        <form id="reviewForm" class="review-form">
                            <label class="review-form__label">
                                <span>Ваша оцінка</span>
                                <div class="rating-input" role="radiogroup" aria-label="Оцінка книги">
                                    <button type="button" class="rating-input__star" data-value="1" aria-label="1 зірка">★</button>
                                    <button type="button" class="rating-input__star" data-value="2" aria-label="2 зірки">★</button>
                                    <button type="button" class="rating-input__star" data-value="3" aria-label="3 зірки">★</button>
                                    <button type="button" class="rating-input__star" data-value="4" aria-label="4 зірки">★</button>
                                    <button type="button" class="rating-input__star" data-value="5" aria-label="5 зірок">★</button>
                                </div>
                            </label>
                            <label class="review-form__label">
                                <span>Коментар</span>
                                <textarea id="reviewComment" rows="3" placeholder="Розкажіть, чим книга вас зачепила" disabled></textarea>
                            </label>
                            <button type="submit" class="btn btn-primary" id="submitReviewButton" disabled>Поділитися враженнями</button>
                            <p class="muted small review-form__hint" id="reviewFormHint">Оберіть книгу, щоб залишити відгук.</p>
                        </form>
                    </div>
                </section>
            </div>
        </section>
    </main>
    <div class="hidden-inputs" aria-hidden="true">
        <input type="hidden" id="apiBase" value="/api" />
        <input type="hidden" id="userEmail" />
    </div>
</div>

<div id="bookEditModal" class="modal hidden" aria-hidden="true">
  <div class="modal__backdrop" data-modal-close></div>
  <div
    class="modal__window"
    role="dialog"
    aria-modal="true"
    aria-labelledby="bookEditModalTitle"
  >
    <header class="modal__header">
      <div>
        <p class="muted small">
          ISBN: <span id="editBookIsbn">—</span>
        </p>
        <h3 id="bookEditModalTitle">Редагування книги</h3>
      </div>
      <button
        type="button"
        class="modal__close"
        aria-label="Закрити редактор книги"
        data-modal-close
      >
        ×
      </button>
    </header>
    <form id="bookEditForm" class="modal__form" novalidate>
      <div class="modal__field">
        <label for="bookEditTitle">Назва</label>
        <input id="bookEditTitle" name="title" class="input" required />
      </div>
      <div class="modal__field">
        <label for="bookEditAuthor">Автор</label>
        <input id="bookEditAuthor" name="author" class="input" required />
      </div>
      <div class="modal__field">
        <label for="bookEditDescription">Опис</label>
        <textarea
          id="bookEditDescription"
          name="description"
          class="input"
          rows="3"
        ></textarea>
      </div>
      <div class="modal__field modal__field--grid">
        <label for="bookEditYear">Рік видання</label>
        <input id="bookEditYear" name="year" type="number" class="input" />
      </div>
      <div class="modal__field">
        <label for="bookEditGenres">Жанри (через кому)</label>
        <input id="bookEditGenres" name="genres" class="input" />
      </div>
      <div class="modal__field modal__field--grid">
        <label for="bookEditCopies">Кількість примірників</label>
        <input id="bookEditCopies" name="copies" type="number" class="input" />
      </div>
      <div class="modal__field">
        <label for="bookEditCover">URL обкладинки</label>
        <input id="bookEditCover" name="cover_image" class="input" />
      </div>
      <div class="modal__actions">
        <button type="submit" class="btn btn-primary">Зберегти зміни</button>
        <button type="button" class="btn btn-outline" data-modal-close>
          Скасувати
        </button>
      </div>
    </form>
  </div>
</div>

<div id="toast" class="toast" role="status" aria-live="polite"></div>
<script src="app.js?v=4"></script>
</body>
</html>
