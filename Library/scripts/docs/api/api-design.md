# API Design Documentation ‚Äî Library Management API

## 1. Overview
**Project name:** Library Management API  
**Purpose:** RESTful API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –±—ñ–±–ª—ñ–æ—Ç–µ–∫–æ—é ‚Äî –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –∫–Ω–∏–≥–∏, –±—Ä–æ–Ω—é–≤–∞—Ç–∏, —Å–∫–∞—Å–æ–≤—É–≤–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è —Ç–∞ —à—É–∫–∞—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ –µ–∫–∑–µ–º–ø–ª—è—Ä–∏.  
**Approach:** Code-First (FastAPI –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≥–µ–Ω–µ—Ä—É—î OpenAPI –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é).

---

## 2. Resources & Endpoints

### üìò Books
| Method | Endpoint | Description | Request | Response | Status |
|--------|-----------|--------------|----------|-----------|--------|
| **GET** | `/books` | –û—Ç—Ä–∏–º–∞—Ç–∏ —Å–ø–∏—Å–æ–∫ —É—Å—ñ—Ö –∫–Ω–∏–≥. –ú–æ–∂–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –ª–∏—à–µ –¥–æ—Å—Ç—É–ø–Ω—ñ. | Query: `available_only: bool` | `[Book]` | 200 |
| **GET** | `/books/availability` | –ü–æ—à—É–∫ –¥–æ—Å—Ç—É–ø–Ω–∏—Ö –∫–Ω–∏–≥ –∑–∞ –Ω–∞–∑–≤–æ—é. | Query: `title: str (optional)` | `[Book]` | 200 |

### üìó Reservations
| Method | Endpoint | Description | Request | Response | Status |
|--------|-----------|-------------|----------|-----------|--------|
| **POST** | `/reservations` | –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –∫–Ω–∏–≥–∏. | `ReservationCreate` (user_id, book_id, until) | `Reservation` | 201 |
| **DELETE** | `/reservations/{reservation_id}` | –°–∫–∞—Å—É–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á–µ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è. | Path: `reservation_id: UUID` | None | 204 |
| **GET** | `/users/{user_id}/reservations` | –ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –≤—Å—ñ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –ø–µ–≤–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞. | Path: `user_id: UUID` | `[Reservation]` | 200 |

---

## 3. Data Models

### `Book`
| Field | Type | Example | Description |
|--------|------|----------|-------------|
| id | UUID | `3fa85f64-5717-4562-b3fc-2c963f66afa6` | –£–Ω—ñ–∫–∞–ª—å–Ω–∏–π —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –∫–Ω–∏–≥–∏ |
| isbn | str | `978-3-16-148410-0` | ISBN –∫–æ–¥ –∫–Ω–∏–≥–∏ |
| title | str | `Clean Code` | –ù–∞–∑–≤–∞ –∫–Ω–∏–≥–∏ |
| author | str | `Robert C. Martin` | –ê–≤—Ç–æ—Ä –∫–Ω–∏–≥–∏ |
| total_copies | int | `3` | –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –µ–∫–∑–µ–º–ø–ª—è—Ä—ñ–≤ |

### `Reservation`
| Field | Type | Example | Description |
|--------|------|----------|-------------|
| id | UUID | ‚Äî | –Ü–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| user_id | UUID | ‚Äî | –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á, —è–∫–∏–π –∑—Ä–æ–±–∏–≤ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| book_id | UUID | ‚Äî | –ó–∞–±—Ä–æ–Ω—å–æ–≤–∞–Ω–∞ –∫–Ω–∏–≥–∞ |
| from_date | date | `2025-10-05` | –î–∞—Ç–∞ –ø–æ—á–∞—Ç–∫—É –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| until | date/null | `2025-10-10` | –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |

---

## 4. Design Decisions
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ **FastAPI**, –æ—Å–∫—ñ–ª—å–∫–∏ –≤—ñ–Ω –Ω–∞—Ç–∏–≤–Ω–æ –ø—ñ–¥—Ç—Ä–∏–º—É—î –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—é OpenAPI.
- –ö–æ–¥ –ø–æ–±—É–¥–æ–≤–∞–Ω–æ –∑–∞ –ø—Ä–∏–Ω—Ü–∏–ø–æ–º **Code-First**, –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ñ–æ—Ä–º—É—î—Ç—å—Å—è –∑ –∞–Ω–æ—Ç–∞—Ü—ñ–π.
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è —á–µ—Ä–µ–∑ **Pydantic models**.
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ **UUID** –¥–ª—è —É–Ω—ñ–∫–∞–ª—å–Ω–æ—ó —ñ–¥–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤.
- Mock data –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∑–∞–º—ñ—Å—Ç—å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (–¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—ó —Ñ—É–Ω–∫—Ü—ñ–π).
- –õ–æ–≥—ñ–∫–∞ —Ä–æ–±–æ—Ç–∏ –∑ –∫–Ω–∏–≥–∞–º–∏ —ñ —Ä–µ–∑–µ—Ä–≤–∞—Ü—ñ—è–º–∏ —ñ–∑–æ–ª—å–æ–≤–∞–Ω–∞ —É –ø–∞–º‚Äô—è—Ç—ñ (`BOOKS`, `RESERVATIONS`).

---

## 5. HTTP Status Codes
| Code | Meaning | –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è |
|------|----------|--------------|
| 200 | OK | –£—Å–ø—ñ—à–Ω–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å |
| 201 | Created | –†–µ—Å—É—Ä—Å —Å—Ç–≤–æ—Ä–µ–Ω–æ (–±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è) |
| 204 | No Content | –†–µ—Å—É—Ä—Å —É—Å–ø—ñ—à–Ω–æ –≤–∏–¥–∞–ª–µ–Ω–æ |
| 404 | Not Found | –ö–Ω–∏–≥–∞ –∞–±–æ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ |
| 409 | Conflict | –ö–Ω–∏–≥–∞ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è |
| 422 | Validation Error | –ù–µ–≤—ñ—Ä–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–ø–∏—Ç—É |

---

## 6. Example Workflow
1. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –æ—Ç—Ä–∏–º—É—î —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥ (`GET /books`)
2. –û–±–∏—Ä–∞—î –∫–Ω–∏–≥—É –π –±—Ä–æ–Ω—é—î —ó—ó (`POST /reservations`)
3. –ü–µ—Ä–µ–≥–ª—è–¥–∞—î —Å–≤–æ—ó –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (`GET /users/{user_id}/reservations`)
4. –ú–æ–∂–µ —Å–∫–∞—Å—É–≤–∞—Ç–∏ –±—Ä–æ–Ω—é–≤–∞–Ω–Ω—è (`DELETE /reservations/{reservation_id}`)
5. –ú–æ–∂–µ —à—É–∫–∞—Ç–∏ –∫–Ω–∏–≥–∏ –ø–æ –Ω–∞–∑–≤—ñ (`GET /books/availability`)

---

## 7. Future Improvements
- –î–æ–¥–∞—Ç–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤.
- –î–æ–¥–∞—Ç–∏ –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —É –±–∞–∑—É –¥–∞–Ω–∏.
- –î–æ–¥–∞—Ç–∏ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—é —ñ —Ñ—ñ–ª—å—Ç—Ä–∏ –¥–ª—è `/books`.
- –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ CI/CD –¥–ª—è –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó –ø—Ä–∏ push.
