## 1) Резервація без верифікованого користувача (Ковтонюк)

- Проблема
  - Фронтенд генерував випадковий `user_id` для створення резервації, а бекенд приймав будь‑який UUID без перевірки, що такий користувач існує у БД.

- Код (фрагмент)
  - frontend/app.js:95
    ```js
    const user_id = crypto.randomUUID();
    const payload = { user_id, book_id: b.id, until: untilStr };
    ```
  - src/api/routes/reservations.py:26 (до виправлення очікувався обов’язковий `user_id` у тілі запиту; резолву користувача не було)
  - src/services/reservations_service.py:12 (до виправлення не перевірявся факт існування `user_id` у БД перед створенням записи)

- Чому вона небезпечна
  - Порушення цілісності даних: з’являються “сирітські” резервації, що не належать жодному реальному користувачу.
  - Відсутність трасованості та аудиту: неможливо однозначно пов’язати дію із конкретним користувачем.
  - Помилки бізнес‑логіки: нагадування/повідомлення не мають email, неможливо комунікувати з користувачем.

- Потенційний вплив
  - Хибні або відсутні нагадування щодо повернення книг.
  - Можливість зловмиснику створювати резервації від імені “вигаданих” користувачів (довільні UUID).
  - Забруднення даних та ускладнення подальшої міграції/інтеграції.

Примітка: Виправлено шляхом передачі `X-User-Email` з фронтенда і резолву/перевірки користувача на бекенді; за відсутності існуючого користувача — створюється мінімальний запис або запит відхиляється (залежно від політики).

